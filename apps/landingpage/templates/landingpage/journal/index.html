{% extends 'landingpage/layouts/base.html' %}
{% load static %}
{% load angka %}

{% block title %}Daftar Journal{% endblock title %}

{% block content %}
<main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <div class="breadcrumbs">
        <nav>
          <div class="container">
            <ol>
              <li><a href="{% url 'landingpage:journal.index' %}">Journal</a></li>
              <li>Daftar Journal</li>
            </ol>
          </div>
        </nav>
      </div><!-- End Breadcrumbs -->


    <!-- ======= Blog Details Section ======= -->
    <section id="blog" class="blog">
        <div class="container" data-aos="fade-up">

          <div class="row g-5">

            <!-- ======= Searching ======= -->
            <div class="col-lg-12">
              {% include "landingpage/journal/parts/sidebar.html" %}
            </div>
            <!-- ======= End Searching ======= -->

            <!-- ======= Pagination ======= -->
            {% include "landingpage/journal/parts/pagination.html" %}
            <!-- ======= End Pagination ======= -->

            <!-- ======= List Books ======= -->
            <div class="col-lg-12">
                <div class="mb-2">
                  <span>
                    Menampilkan {{tampilkan.from|rupiah}} - {{tampilkan.to|rupiah}} journal dari total {{tampilkan.total|rupiah}}
                    {% if search_text %}
                      untuk <strong>"{{search_text}}"</strong>
                    {% endif %}
                    </span>
                </div>

                <div class="gy-4 posts-list">
                    {% for data in journals %}
                        <div class="mb-3">
                            <div class="card bg-grey m-2">
                              <div class="row card-body p-0">

                                <div class="col-lg-3 rounded p-5 bg-light-primary image-show" data-image="{{data.image_url}}">
                                </div>

                                <div class="col-lg-9 col-sm-12 bg-grey p-3">
                                  <h2 class="title">
                                    <a href="{% url 'landingpage:article.index' data.id %}?search={{search_text}}">{{data.name}}</a>
                                  </h2>

                                  <div class="row">
                                    <div class="col">
                                      <p class="post-date mb-2">
                                        {% if data.gsholar_url %}
                                          <a class="text-grey" style="margin-right: 1em;" target="_blank" href="{{data.gsholar_url}}">
                                            <i class="bi bi-tag"></i>
                                            Google Scholar
                                          </a>
                                        {% endif %}
                                        {% if data.website_url %}
                                          <a class="text-grey" style="margin-right: 1em;" target="_blank" href="{{data.website_url}}">
                                            <i class="bi bi-globe"></i>
                                            Website
                                          </a>
                                        {% endif %}
                                        {% if data.editor_url %}
                                          <a class="text-grey" style="margin-right: 1em;" target="_blank" href="{{data.editor_url}}">
                                            <i class="bi bi-pencil"></i>
                                            Editor URL
                                          </a>
                                        {% endif %}
                                      </p>
                                    </div>
                                    <div class="col" style="text-align: right;">
                                      {% if data.author_guideline_url %}
                                        <a class="btn btn-purple" style="margin-right: 1em;" target="_blank" href="{{data.author_guideline_url}}">
                                          <i class="bi bi-blockquote-left"></i>
                                          Author Guideline
                                        </a>
                                      {% endif %}
                                    </div>
                                  </div>

                                  <p class="affiliation mb-2">
                                    <a href="">
                                      <i class="bi bi-mortarboard"></i>
                                      {{data.university.name}}
                                    </a>
                                  </p>

                                  <p class="mb-2">
                                    <span class="text-grey text-75" style="margin-right: 1em;">
                                      <i class="bi bi-patch-check"></i>
                                      P-ISSN: {% if data.pissn %} {{data.pissn}} {% else %} - {% endif %} | E-ISSN: {% if data.eissn %} {{data.eissn}} {% else %} - {% endif %}
                                    </span>
                                    <span class="text-grey text-75">
                                      <i class="bi bi-tag"></i>
                                      Subject Area: {% if data.subject %} {{data.subject}} {% else %} - {% endif %}
                                    </span>
                                  </p>

                                  <div class="mb-2">
                                    {% if data.accredited %}
                                      <span class="badge badge-pill bg-light-yellow text-grey p-2" style="margin-right: 1em;">
                                        <i class="bi bi-patch-check"></i>
                                        {{data.accredited}}
                                      </span>
                                    {% endif %}
                                    {% if data.scopus %}
                                      <span class="badge badge-pill bg-light-orange text-orange p-2" style="margin-right: 1em;">
                                        <i class="bi bi-pie-chart"></i>
                                        {{data.scopus}}
                                      </span>
                                    {% endif %}
                                    {% if data.garuda_url %}
                                      <a href="{{data.garuda_url}}" target="_blank" class="badge badge-pill bg-light-red text-red p-2" style="margin-right: 1em;">
                                        <i class="bi bi-bar-chart-line-fill"></i>
                                        Garuda Indexed
                                      </a>
                                    {% endif %}
                                  </div>

                                  <div class="rounded bg-dark-grey p-2 mt-3 mb-2">
                                    <div class="row">

                                      <div class="col-lg-3 col-sm-6">
                                        <div class="row text-center text-orange">
                                          <div class="col-4 align-self-center" style="text-align: right; font-size: 1.7em;">
                                            <i class="bi bi-check-circle-fill"></i>
                                          </div>
                                          <div class="col-8 text-black" style="text-align: left;">
                                            {{data.impact}} <br>
                                            Impact
                                          </div>
                                        </div>
                                      </div>

                                      <div class="col-lg-3 col-sm-6">
                                        <div class="row text-center text-orange">
                                          <div class="col-4 align-self-center" style="text-align: right; font-size: 1.7em;">
                                            <i class="bi bi-check-circle-fill"></i>
                                          </div>
                                          <div class="col-8 text-black" style="text-align: left;">
                                            {{data.h5_index}} <br>
                                            H5-index
                                          </div>
                                        </div>
                                      </div>

                                      <div class="col-lg-3 col-sm-6">
                                        <div class="row text-center text-orange">
                                          <div class="col-4 align-self-center" style="text-align: right; font-size: 1.7em;">
                                            <i class="bi bi-check-circle-fill"></i>
                                          </div>
                                          <div class="col-8 text-black" style="text-align: left;">
                                            {{data.citation_5y}} <br>
                                            Citations 5yr
                                          </div>
                                        </div>
                                      </div>

                                      <div class="col-lg-3 col-sm-6">
                                        <div class="row text-center text-orange">
                                          <div class="col-4 align-self-center" style="text-align: right; font-size: 1.7em;">
                                            <i class="bi bi-check-circle-fill"></i>
                                          </div>
                                          <div class="col-8 text-black" style="text-align: left;">
                                            {{data.citation}} <br>
                                            Citations
                                          </div>
                                        </div>
                                      </div>

                                    </div>

                                  </div>

                                  <p>Kata kunci di {{data.total_article}} publikasi</p>

                                </div>

                              </div>

                            </div>
                        </div><!-- End post list item -->
                    {% endfor %}
                </div>

                {% include "landingpage/journal/parts/pagination.html" %}
            </div>
            <!-- ======= End List Books ======= -->

          </div>

        </div>
    </section><!-- End Blog Details Section -->

</main>

{% endblock content %}


{% block javascript %}

<script>

// Load Image after HTML loaded
window.onload = function() {

    let containers = document.getElementsByClassName('image-show');
    for (let i = 0; i < containers.length; i++) {
      let img = document.createElement('img');
      img.src = containers[i].dataset.image
      img.alt = containers[i].dataset.image
      img.className = "img-fluid"

      containers[i].appendChild(img)
    }

};


</script>

{% endblock %}