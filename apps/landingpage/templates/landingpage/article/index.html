{% extends 'landingpage/layouts/base.html' %}
{% load static %}
{% load angka %}

{% block title %}Daftar Article{% endblock title %}

{% block content %}
<main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <div class="breadcrumbs">
        <nav>
          <div class="container">
            <ol>
              <li><a href="{% url 'landingpage:journal.index' %}">Article</a></li>
              <li>Daftar Article</li>
            </ol>
          </div>
        </nav>
      </div><!-- End Breadcrumbs -->


    <!-- ======= Blog Details Section ======= -->
    <section id="blog" class="blog">
        <div class="container" data-aos="fade-up">

          <div class="row g-5">

            <!-- ======= Journal ======= -->
            <div class="mb-3">
                <div class="card bg-grey m-2">
                  <div class="row card-body p-0">

                    <div class="col-lg-3 rounded p-5 bg-light-primary image-show" data-image="{{journal_obj.image_url}}">
                    </div>

                    <div class="col-lg-9 col-sm-12 bg-grey p-3">
                      <h2 class="title">
                        <a href="">{{journal_obj.name}}</a>
                      </h2>

                      <p class="post-date mb-2">
                        <a class="text-grey" style="margin-right: 1em;" target="_blank" href="{{journal_obj.gscholar_url}}">
                          <i class="bi bi-tag"></i>
                          Google Scholar
                        </a>
                        <a class="text-grey" style="margin-right: 1em;" target="_blank" href="{{journal_obj.website_url}}">
                          <i class="bi bi-globe"></i>
                          Website
                        </a>
                        <a class="text-grey" style="margin-right: 1em;" target="_blank" href="{{journal_obj.editor_url}}">
                          <i class="bi bi-pencil"></i>
                          Editor URL
                        </a>
                        <a class="text-grey" style="margin-right: 1em;" target="_blank" href="{{journal_obj.author_guideline_url}}">
                          <i class="bi bi-blockquote-left"></i>
                          Author Guideline
                        </a>
                      </p>

                      <p class="affiliation mb-2">
                        <a href="">
                          <i class="bi bi-mortarboard"></i>
                          {{journal_obj.university.name}}
                        </a>
                      </p>

                      <p class="mb-2">
                        <span class="text-grey text-75" style="margin-right: 1em;">
                          <i class="bi bi-patch-check"></i>
                          P-ISSN: {% if journal_obj.pissn %} {{journal_obj.pissn}} {% else %} - {% endif %} | E-ISSN: {% if journal_obj.eissn %} {{journal_obj.eissn}} {% else %} - {% endif %}
                        </span>
                        <span class="text-grey text-75">
                          <i class="bi bi-tag"></i>
                          Subject Area: {% if journal_obj.subject %} {{journal_obj.subject}} {% else %} - {% endif %}
                        </span>
                      </p>

                      <div class="mb-2">
                        {% if journal_obj.accredited %}
                          <span class="badge badge-pill bg-light-yellow text-grey p-2" style="margin-right: 1em;">
                            <i class="bi bi-patch-check"></i>
                            {{journal_obj.accredited}}
                          </span>
                        {% endif %}
                        {% if journal_obj.scopus %}
                          <span class="badge badge-pill bg-light-orange text-orange p-2" style="margin-right: 1em;">
                            <i class="bi bi-pie-chart"></i>
                            {{journal_obj.scopus}}
                          </span>
                        {% endif %}
                        {% if journal_obj.garuda_url %}
                          <a href="{{journal_obj.garuda_url}}" target="_blank" class="badge badge-pill bg-light-red text-red p-2" style="margin-right: 1em;">
                            <i class="bi bi-bar-chart-line-fill"></i>
                            Garuda Indexed
                          </a>
                        {% endif %}
                      </div>

                      <div class="rounded bg-dark-grey p-2 mt-3 mb-2">
                        <div class="row">

                          <div class="col-lg-3 col-sm-6">
                            <div class="row text-center text-orange">
                              <div class="col-4 align-self-center" style="text-align: right; font-size: 1.7em;">
                                <i class="bi bi-check-circle-fill"></i>
                              </div>
                              <div class="col-8 text-black" style="text-align: left;">
                                {{journal_obj.impact}} <br>
                                Impact
                              </div>
                            </div>
                          </div>

                          <div class="col-lg-3 col-sm-6">
                            <div class="row text-center text-orange">
                              <div class="col-4 align-self-center" style="text-align: right; font-size: 1.7em;">
                                <i class="bi bi-check-circle-fill"></i>
                              </div>
                              <div class="col-8 text-black" style="text-align: left;">
                                {{journal_obj.h5_index}} <br>
                                H5-index
                              </div>
                            </div>
                          </div>

                          <div class="col-lg-3 col-sm-6">
                            <div class="row text-center text-orange">
                              <div class="col-4 align-self-center" style="text-align: right; font-size: 1.7em;">
                                <i class="bi bi-check-circle-fill"></i>
                              </div>
                              <div class="col-8 text-black" style="text-align: left;">
                                {{journal_obj.citation_5y}} <br>
                                Citations 5yr
                              </div>
                            </div>
                          </div>

                          <div class="col-lg-3 col-sm-6">
                            <div class="row text-center text-orange">
                              <div class="col-4 align-self-center" style="text-align: right; font-size: 1.7em;">
                                <i class="bi bi-check-circle-fill"></i>
                              </div>
                              <div class="col-8 text-black" style="text-align: left;">
                                {{journal_obj.citation}} <br>
                                Citations
                              </div>
                            </div>
                          </div>

                        </div>

                      </div>

                      <p class="text-grey text-75">{{journal_obj.garuda_description}}</p>

                    </div>

                  </div>

                </div>
            </div><!-- End post list item -->
            <!-- ======= End Journal ======= -->

            <!-- ======= Pagination ======= -->
            {% include "landingpage/article/parts/pagination.html" %}
            <!-- ======= End Pagination ======= -->

            <!-- ======= List Books ======= -->
            <div class="col-lg-12">
                <div class="mb-2">
                  <span>
                    Menampilkan {{tampilkan.from|rupiah}} - {{tampilkan.to|rupiah}} publikasi dari total {{tampilkan.total|rupiah}}
                    {% if search_text %}
                      untuk <strong>"{{search_text}}"</strong>
                    {% endif %}
                    </span>
                </div>

                <div class="gy-4 posts-list bg-grey mb-3 p-3">
                    {% for data in articles %}
                      <h5 class="text-green"><a href="{{data.garuda_url}}" target="_blank">{{data.title}}</a></h5>
                      <span>
                        {% for author in data.author %}
                        <a href="{{author.url}}" target="_blank" class="text-grey text-75">{{author.name}}</a>,
                        {% endfor %}
                      </span>
                      <br>
                      <span>{{data.volume}}</span>
                      <br>
                      <span> <em>Publisher</em> {{data.journal.name}}</span>
                      <br>
                      {% if data.file_url %}<span class="text-75 text-green"><a href="{{data.file_url}}" target="_blank">Download Original</a></span> |{% endif %}
                      {% if data.source_url %}<span class="text-75 text-green"><a href="{{data.source_url}}" target="_blank">Original Source</a></span> |{% endif %}
                      {% if data.gsholar_url %}<span class="text-75 text-green"><a href="{{data.gsholar_url}}" target="_blank">Google Scholar</a></span> |{% endif %}
                      {% if data.pdf_url %}<span class="text-75 text-green"><a href="{{data.pdf_url}}" target="_blank">Full PDF</a></span> |{% endif %}
                      {% if data.doi_url %}<span class="text-75 text-green"><a href="{{data.doi_url}}" target="_blank">{{data.doi_url}}</a></span> |{% endif %}
                      <hr>
                    {% endfor %}
                </div>

                {% include "landingpage/article/parts/pagination.html" %}
            </div>
            <!-- ======= End List Books ======= -->

          </div>

        </div>
    </section><!-- End Blog Details Section -->

</main>

{% endblock content %}


{% block javascript %}

<script>

// Load Image after HTML loaded
window.onload = function() {

    let containers = document.getElementsByClassName('image-show');
    for (let i = 0; i < containers.length; i++) {
      let img = document.createElement('img');
      img.src = containers[i].dataset.image
      img.alt = containers[i].dataset.image
      img.className = "img-fluid"

      containers[i].appendChild(img)
    }

};


</script>

{% endblock %}